-   [<span class="toc-section-number">1</span>
    Introduction](#introduction)
-   [<span class="toc-section-number">2</span> kArrayNav](#karraynav)
    -   [<span class="toc-section-number">2.1</span> to create a
        vector:](#to-create-a-vector)
    -   [<span class="toc-section-number">2.2</span> to create a
        matrix:](#to-create-a-matrix)
    -   [<span class="toc-section-number">2.3</span>
        transposing:](#transposing)
    -   [<span class="toc-section-number">2.4</span> to convert a 3D
        vector to its respective
        skew-matrix:](#to-convert-a-3d-vector-to-its-respective-skew-matrix)
    -   [<span class="toc-section-number">2.5</span> to convert to/from
        rad/deg:](#to-convert-tofrom-raddeg)
    -   [<span class="toc-section-number">2.6</span> to calculate the
        cross-product among
        3D-vectors:](#to-calculate-the-cross-product-among-3d-vectors)
    -   [<span class="toc-section-number">2.7</span> to convert to/from
        euler angles from/to
        quaternions:](#to-convert-tofrom-euler-angles-fromto-quaternions)
    -   [<span class="toc-section-number">2.8</span> to convert to/from
        quaternions from/to
        transformation-matrix:](#to-convert-tofrom-quaternions-fromto-transformation-matrix)
    -   [<span class="toc-section-number">2.9</span> to multiply
        quaternions:](#to-multiply-quaternions)
    -   [<span class="toc-section-number">2.10</span> transformation
        matrix from ‘earth’ to ‘navigation’
        frame:](#transformation-matrix-from-earth-to-navigation-frame)
    -   [<span class="toc-section-number">2.11</span> transformation
        among earth-centered-earth-fixed
        representations:](#transformation-among-earth-centered-earth-fixed-representations)
    -   [<span class="toc-section-number">2.12</span> derivative of
        quaternions:](#derivative-of-quaternions)
-   [<span class="toc-section-number">3</span> How to use](#how-to-use)

# Introduction

This package provides an object to support mathematical operations
normally used in the development of navigation solutions, sensor
simulation, transfer alignemnt, and similars.

In the background, the object uses numpy arrays, but improves it with
methods to support changing of reference frames, usage of quaternions,
convertion among transformation matrices, etc.

# kArrayNav

![classes.png](classes.png?raw=true "UML generated by pyreverse")

## to create a vector:

    kArrayNav( [1,2,3], hvector={True|False} )

This is the standard sintax to create a vector-object. The boolean
parameter `hvector` defines whether the vector is vertical or
horizontal.

## to create a matrix:

    kArrayNav( [[1,2,3],[4,5,6]] )

This is the standard sintax to create a matrix. The boolean parameter
`hvector` is not used here.

## transposing:

    a = a.T # it works for vectors!

## to convert a 3D vector to its respective skew-matrix:

    a = kArrayNav( [1,2,3] ) # any hvector does the trick
    b = a.to_skew()

## to convert to/from rad/deg:

    angles_deg = kArrayNav( [10,20,30] )
    angles_rad = angles_deg.to_rad()

## to calculate the cross-product among 3D-vectors:

    a = kArrayNav( [1,2,3], hvector=False )
    b = kArrayNav( [5,3,1], hvector=False )
    c = a.X( b )
    c = a.to_skew() * b # alternative

## to convert to/from euler angles from/to quaternions:

    euler = kArrayNav( [10,20,30] ).to_rad()
    q4    = euler2Q()
    euler = q4.Q2euler()

## to convert to/from quaternions from/to transformation-matrix:

    euler = kArrayNav( [10,20,30] ).to_rad()
    q4    = euler.euler2Q()
    C     = q4.Q2C()
    q4    = C.C2Q()

## to multiply quaternions:

    qa2b = ...                  # from 'a' to 'b'
    qb2c = ...                  # from 'b' to 'c'
    qa2c = qb2c.q1_x_q2(qa2b)   # from 'a' to 'c'

## transformation matrix from ‘earth’ to ‘navigation’ frame:

    latitude_rad  = ...
    longitude_rad = ...
    Re2n = kArrayNav().Re2n(latitude_rad, longitude_rad)

## transformation among earth-centered-earth-fixed representations:

    llh = kArrayNav( angles_rad )
    xyz = llh.ecef_llh2xyz()
    llh = xyz.ecef_xyz2llh()

## derivative of quaternions:

    dqdt = qi2b.dqdt( w_ib_b )

# How to use

    import sys
    sys.path.append(< up to where folder karraynav is >)
    from karraynav import kArrayNav
